# chapter5
5.1서버 저장소 
원격(remote) 저장소라이자, 로컬 저장소의 코드를 복제한 복사본
장점: 코드의 안전한 보관, 소스 코드를 다른 사람들과 공유, 협업하여 개발 진행 가능

5.5.1 협업 저장소
여러 명의 개발자가 규모가 큰 프로젝트를 효율적이고 좋은 품질로 개발하기 위한 협업 도구
유연한 개발은 위하여 분산형 모델 선택

5.1.2 연속된 작업
장점: 원격 저장소에 개발 중인 코드의 서버를 저장한다면 어디서든 동기화 가능해 연속된 작업이 가능
분산된 저장소 통일, 최신 코드 배포, 여러 컴퓨터에 동기화, 결과물을 다시 서버로 통합

5.1.3 새 멤버
새로운 멤버와의 협업에서는 복잡한 단계를 거치지 않아도 깃의 원격 저장소 주소를 알려줘 쉽게
버전을 공유하는 것이 가능

5.2 깃허브 서버 준비
호스팅을 받아 쉽게 원격 저장소 운영 가능

5.2.1 깃허브
대표적인 깃호스팅 서비스이며 무료
http://github.com/사용자이름

5.2.2 저장소 생성
공개용 저장소와 비공개용 저장소(일부 유료 서비스) 두 개가 존재

1. New repository를 선택하여 저장소 생성 
2. 소유자(owner)를 확인, Repository name에 저장소 이름 입력(대소문자, 숫자, 하이픈, 밑줄 가능)
3. 저장소 URL은 http://github.com/소유자/저장소
한 소유자 안에 같은 저장소 이름은 중복 불가능

5.3 깃허브 연동 및 원격 등록
저장소와 로컬 저장소의 연결

5.3.1로컬 저장소
README 파일을 체크하지 않은 상태에서 로컬 저장소와 원격 저장소를 연결하는 두 가지 방법
1. 새로운 로컬 저장소를 생성하고 원격 저장소 연결
$mkdir 새 폴더 이름
$cd 새 폴더 이름
$git init
$echo "# 파일 이름" >> REAM.md
$git add README.md
$git commit -m "커밋 내용"

2. 기존 저장소 연결

5.3.2 프로토콜
깃이 서버와 통신할 수 있도록 함, Local, HTTP, SSH, Git 네 종류

1. Local: 원격 저장소를 생성, 자시의 컴퓨터를 Network File Syster 등 서버로 이용할 때 편리
$git remote add 원격저장소별칭 폴더경로
폴더 경로만 입력하면됨, 간단한 서버 구축, 빠른 동작 가능 
모든 자료가 자신의 컴퓨터에 집중되는 위험

2.HTTP
서버에 접속하려면 로그인 절차 필요, 익명 혹은 계정을 이용하여 처리 가능

3. SSH
깃에서 권장하는 프로토콜, 높은 수주느이 보안 통신 처리로 안전
'ssh://계정@주소'처럼 프로토콜 타입 지정, 현재 로그인된 사용자로 대체 가능
접속 시 인증서가 만들어지는데 별도의 로그인이 필요없음
인증서는 공개키(서버에 등록), 개인키(로컬에 저장) 두 개 존재
익명 접속 불가능, 그래서 깃 서버 운영에 적합

4.Git
깃의 데몬 서비스를 위한 전용 프로토콜 방식
SSH와 유사하지만 인증 시스템이 없어 보안에 취약
잘 사용하지 않음

5.3.3 원격 저장소의 리모트 목록 관리
깃은 원격 저장소(서버)를  관리할 때 remote 명령어를 사용
현재 연결된 원격 저장소 목록 확인 가능, 등록과 취소 등 장업 가능
-help옵션으로 다양한 기능을 확인 가능
 
$git remote: 원격 저장소의 이름(별칭) 출력, 원격 저장소 목록 확인할 때 편리
$git remote -v: 원격 저장소의 별칭 이름과 URL확인 가능

저장소의 권한 정보까지는 알 수 없지만 복수의 원격 저장소를 연결해 사용 가능하면 목록을 모두 출력 가능

5.3.4 주소와 별칭
로컬 저장소에 원격 저장소(서버)를 등록하려면 서버 주소 필요
깃허브 같은 저장소는 프로토콜+도메인 주소, 로컬에 서버 저장소 생성에는 폴더 경로 사용

- 별칭: 원격 서버의 주소는 긴 문자열 형태이기 때문에 긴 서버 URL 문자열을 별칭으로 만들어 사용 가능
- origin: 대표적으로 사용하는 별칭, 원격 서버와 연결할 때 별칭으로 많이 사용

5.3.5 원격 저장소에 연결
원격 저장소를 연결할 때, **add 옵션** 사용
> $ git remote add 원격저장소별칭 원격저장소URL
>> $ git remove -v
>> 
>> 원격저장소별칭 원격저장소URL (fetch)
>> 
>> 원격저장소별칭 원격저장소URL (push)

- fetch : 서버에서 가지고 오는 동작
- push : 서버로 전송하는 동작
 별칭은 중복하여 선택 불가
 
 5.3.6 소스트리에서 원격 브랜치
 원격 저장소를 등록하면 기존 master 브랜치와 달리 또 하나의 브랜치가 표시됨
 
 **별칭/브랜치**는 원격 저장소의 브랜치를 의미
 
 5.3.7 별칭 이름 변경과 정보
 별칭은 긴 문자열의 서버 주소를 대체,
 등록된 서버의 별칭 이름은 다시 변경 가능 **rename 옵션** 사용
 > $ git remote rename 변경전 변경후
 
 remote 명령어는 간략한 원격 저장소 정보만 출력
 원경 저장소의 상세한 정보를 확인하려면 **show 옵션** 사용
 > $ git remote show 원격저장소별칭
 
 5.3.8 원격 서버 삭제
 로컬 저장소는 복수의 원격 저장소와 연결 가능
 풀 리퀘스트, 테스트 등의 목적으로 임시 등록된 원격 저장소가 있으며, 등록된 원격 저장소는 **rm 옵셕**으로 삭제 
 > $ git remote rm 원격저장소별칭
 
 5.4 서버 전송
 원격 저장소가 연결되면 로컬 저장소의 커밋 업로드 가능
 
 5.4.1 push : 서버에 전송
 원격 저장소로 커밋된 파일을 업로드하는 동작
 원격 저장소로 로컬 깃 저장소의 내용을 전송할 때 **push 명령어** 사용
 > $ git push 원격저장소별칭 브랜치이름
 별칭 이름을 가지는 서버의 master 브랜치에 현재 브랜치를 업로드
 
 처음 푸시하면 서버에 새로운 master 브랜치 생성
 로컬의 master 브랜치 안에 있는 소스 코드를 서버의 master 브랜치로 업로드
 
 원격 저장소에 푸시하면 master 브랜치가 총 2개 생성
  1. 로컬 저장소의 master 브랜치
  2. 서버의 master 브랜치
 전송은 두 브랜치 간에 전송과 수신을 동기화
 
 자신의 로컬 저장소를 **백업**하는 용도로 원격 저장소 사용 가능
 
 5.5 자동으로 내려받기
 원격 저장소에서 커밋된 코드를 내려받는 방법
 
 5.5.1 clone : 복제
 기존 저장소를 이용하여 새로운 저장소를 생성하는 방법 중 하나
 일반적인 복제와 원격 저장소를 복제하는 방법에 차이가 있음
 + 복제할 때, **clone 명령어** 사용
  + clone 명령어는 초기화 init 명령어 외에 원격 서버 접속에 필요한 추가 설정 자동으로 수행
  + 서버의 연결 설정을 마친 후 서버 안에 있는 모든 커밋된 코드 이력을 한 번에 내려받음
   > $ git clone 원격저장소URL
   
 5.5.2 pull : 서버에서 내려받기
 복제 후 원격 저장소의 개인된 내용을 추가로 내려받으려면 **pull 명령어** 사용
  + pull 명령어는 로컬 저장소보다 최신인 갱신된 원격 저장소의 커밋 정보를 현재 로컬 저장소로 내려받음
  + 주기적으로 사용하면 최신 커밋 정보로 로컬 저장소 유지 가능
   > $ git pull
  + 원격 저장소와 로컬 저장소 간 커밋 반영 가능
 
